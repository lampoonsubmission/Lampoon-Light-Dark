{% load static %}
<!doctype html>
<html lang="en">
<!-- 
  _______ _            _                                             
 |__   __| |          | |                                            
    | |  | |__   ___  | |     __ _ _ __ ___  _ __   ___   ___  _ __  
    | |  | '_ \ / _ \ | |    / _` | '_ ` _ \| '_ \ / _ \ / _ \| '_ \ 
    | |  | | | |  __/ | |___| (_| | | | | | | |_) | (_) | (_) | | | |
    |_|  |_| |_|\___| |______\__,_|_| |_| |_| .__/ \___/ \___/|_| |_|
                                            | |                      
                                            |_|                                                                              
  
   This is the Harvard Lampoon, founded in 1876.
   
   v3 - S. B. Suchin '25.
   v2 - I. Prasad '22-'23.
   v1 - R. M. Zurawicki '16

   Technology Board
   I. Prasad '22-'23
   W. Dey '23
   D. J. Hacker '23-'24
   S. B. Suchin '25

   cookn://rdfdkzydv.jmb/rdfd/vaadiz_xdkczm
   VII-VI
   Ktjivicjib kt uamhktw jiud? Vigud aqj gj gppkti@dgvxgvbfgmhaat.uam
-->

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QBDQWH30HW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-QBDQWH30HW');
  </script>
  <script data-ad-client="ca-pub-7634790827768757" async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" type="image/jpg" href="{% static 'images/icon.png' %}" />
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" id="base-css" href="{% static 'css/base.css' %}">

  {% block css %}
  {% endblock %}
  <title>The Harvard Lampoon</title>
</head>

<body class="d-flex flex-column h-100">
  {% include 'includes/banner.html' %}
  {% include 'includes/navbar.html' %}
  {% include 'includes/messages.html' %}
  {% block content %}
  {% endblock %}

  {% include 'includes/footer.html' %}
  {% block js %}
  {% endblock %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/248e7681b5.js" crossorigin="anonymous"></script>
  <script src="{% static 'js/csrf.js' %}"></script>
  <script>
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    })

    //START THEME TOGGLE
    document.addEventListener("DOMContentLoaded", function () {
      const darkModeToggle = document.getElementById("theme-toggle");
      const baseLink = document.getElementById("base-css");
      const navbarLink = document.getElementById("navbar-css");
      const scrollNavbarLink = document.getElementById("scroll-navbar");
      const scrollNavbarIconLink = document.getElementById("scroll-navbar-icon");
      const lampyIconHomeLink = document.getElementById("lampy-icon-home");
      const accountLink = document.getElementById("account-css");
      const indexLink = document.getElementById("index-css");
      const aboutLink = document.getElementById("about-css");
      const contactLink = document.getElementById("contact-css");
      const compLink = document.getElementById("comp-css");
      const mastheadLink = document.getElementById("masthead-css");
      const piecesTitleLink = document.getElementById("pieces-title");
      const magazineTitleLink = document.getElementById("magazine-title");
      const booksTitleLink = document.getElementById("books-title");
      const mastheadInfoLink = document.getElementById("masthead-info")

      function toggleDarkMode(isDarkMode) {
        if (isDarkMode) {
          baseLink.href = "{% static 'css/base-dark.css' %}";
          navbarLink.href = "{% static 'css/navbar-dark.css' %}";
          scrollNavbarLink.className = "bg-dark fixed-top d-none shadow";
          scrollNavbarIconLink.style = "filter: invert(100%)";
          
          if(accountLink != null){
            accountLink.href = "{% static 'css/account-dark.css' %}";
          }
          if(indexLink != null){
            indexLink.href = "{% static 'css/index-dark.css' %}";
          }
          if(lampyIconHomeLink != null){
            lampyIconHomeLink.style = "filter: invert(100%);"
          }
          if(aboutLink != null){
            aboutLink.href = "{% static 'css/misc-dark.css' %}";
          }
          if(contactLink != null){
            contactLink.href = "{% static 'css/misc-dark.css' %}";
          }
          if(compLink != null){
            compLink.href = "{% static 'css/misc-dark.css' %}";
          }
          if(mastheadLink != null){
            mastheadLink.href = "{% static 'css/misc-dark.css' %}";
          }
          if(piecesTitleLink != null){
            piecesTitleLink.style = "color: #ebebeb";
          }
          if(magazineTitleLink != null){
            magazineTitleLink.style = "color: #ebebeb";
          }
          if(booksTitleLink != null){
            booksTitleLink.style = "color: #ebebeb";
          }
          if(mastheadInfoLink != null){
            mastheadInfoLink.style = "color: #ebebeb";
          }
          localStorage.setItem("theme", "dark");
        }
        else {
          baseLink.href = "{% static 'css/base.css' %}";
          navbarLink.href = "{% static 'css/navbar.css' %}"
          scrollNavbarLink.className = "bg-white fixed-top d-none shadow"
          scrollNavbarIconLink.style = "filter: invert(0%);"
          if(accountLink != null){
            accountLink.href = "{% static 'css/account.css' %}"
          }
          if(indexLink != null){
            indexLink.href = "{% static 'css/index.css' %}"
          }
          if(lampyIconHomeLink != null){
            lampyIconHomeLink.style = "filter: invert(0%);"
          }
          if(aboutLink != null){
            aboutLink.href = "{% static 'css/misc.css' %}";
          }
          if(contactLink != null){
            contactLink.href = "{% static 'css/misc.css' %}";
          }
          if(compLink != null){
            compLink.href = "{% static 'css/misc.css' %}";
          }
          if(mastheadLink != null){
            mastheadLink.href = "{% static 'css/misc.css' %}";
          }
          if(piecesTitleLink != null){
            piecesTitleLink.style = "color: #000000";
          }
          if(magazineTitleLink != null){
            magazineTitleLink.style = "color: #000000";
          }
          if(booksTitleLink != null){
            booksTitleLink.style = "color: #000000";
          }
          if(mastheadInfoLink != null){
            mastheadInfoLink.style = "color: #000000";
          }
          // lampyIconHomeLink.style = "filter: invert(0%);"
          localStorage.setItem("theme", "light");
        }
      }

      // Check if the user has a preference stored in localStorage
      const currentTheme = localStorage.getItem("theme");
      if (currentTheme === "dark") {
        darkModeToggle.checked = true;
        toggleDarkMode(true);
      }

      // Toggle dark mode when the checkbox is clicked
      darkModeToggle.addEventListener("change", function () {
        if (darkModeToggle.checked) {
          toggleDarkMode(true);
        } else {
          toggleDarkMode(false);
        }
      });
    });
    //END THEME TOGGLE
  </script>
</body>
<!-- Wczek reu Jkvvc -->

</html>